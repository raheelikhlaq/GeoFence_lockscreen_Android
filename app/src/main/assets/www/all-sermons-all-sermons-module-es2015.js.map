{"version":3,"sources":["./src/app/all-sermons/all-sermons.page.html","./src/app/all-sermons/all-sermons.module.ts","./src/app/all-sermons/all-sermons.page.scss","./src/app/all-sermons/all-sermons.page.ts"],"names":[],"mappings":"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","file":"all-sermons-all-sermons-module-es2015.js","sourcesContent":["module.exports = \"<!--mobile header-->\\n<ion-header class=\\\"mobile-header customMobileHeader \\\" no-border>\\n    <ion-toolbar class=\\\"header--toolbar\\\">\\n        <ion-buttons (click)=\\\"gotobackPage()\\\" class=\\\"cursor-pointer\\\" slot=\\\"start\\\">\\n            <ion-icon name=\\\"arrow-back\\\"></ion-icon>&nbsp;\\n            {{page_name ? page_name : 'Shows'}}\\n        </ion-buttons>\\n    </ion-toolbar>\\n</ion-header>\\n<!--end mobile header-->\\n<ion-content>\\n<!--     banner data on browser only      -->\\n    <div *ngIf=\\\"banner_image || banner_desc || banner_title\\\" class=\\\"banner\\\" [ngStyle]=\\\"{'background': 'url(' + banner_image + ')  no-repeat'}\\\">\\n        <div class=\\\"banner__layer\\\"></div>\\n        <div class=\\\"banner__content\\\">\\n            <div class=\\\"app-container ion-text-center\\\">\\n                <h1 class=\\\"ion-no-margin heading1 banner__heading\\\">{{banner_title}}</h1>\\n                <p class=\\\"ion-no-margin banner__text\\\">{{banner_desc}}</p>\\n            </div>\\n        </div>\\n    </div>\\n    <!--     banner data on browser only      -->\\n\\n    <div class=\\\"page-wrapper ion-justify-content-start\\\">\\n        <div class=\\\"app-container\\\">\\n                    <div class=\\\"event-list-wrap\\\">\\n                        <ion-grid class=\\\"ion-no-padding\\\">\\n                            <ion-row>\\n                                <ion-col [size]=\\\"12\\\" [sizeMd]=\\\"6\\\" *ngFor=\\\"let item of seriesSermon; let i = index\\\">\\n                                    <ion-card class=\\\"ionCard ion-text-left cursor-pointer ion-no-margin\\\" (click)=\\\"getsermon(item.id_series, i, item.pubDate)\\\">\\n                                        <div class=\\\"ionCard__imgDiv\\\">\\n                                            <img *ngIf=\\\"item.img !== ''\\\" [src]=\\\"item.img\\\"/>\\n                                            <img *ngIf=\\\"item.img === ''\\\" src=\\\"../../assets/img/live_stream_bg_2.jpg\\\"/>\\n                                        </div>\\n                                        <ion-card-content class=\\\"ion-no-padding\\\">\\n                                            <ion-card-title class=\\\"heading4\\\" [innerHtml]=\\\"item.title\\\"></ion-card-title>\\n                                            <p [innerHtml]=\\\"item['dc:creator']\\\"></p>\\n                                        </ion-card-content>\\n                                    </ion-card>\\n                                </ion-col>\\n\\n                                <!-- new pwa content -->\\n\\n                                <ion-col [size]=\\\"12\\\" [sizeMd]=\\\"6\\\" *ngFor=\\\"let item of sermons; let i = index\\\">\\n                                    <ion-card class=\\\"ionCard ion-text-left cursor-pointer ion-no-margin\\\" (click)=\\\"getsermonpwa(item.id)\\\">\\n                                        <div class=\\\"ionCard__imgDiv\\\">\\n                                            <img *ngIf=\\\"item.featured_media !== ''\\\" [src]=\\\"item.featured_media\\\"/>\\n                                            <img *ngIf=\\\"item.featured_media === '' || item.featured_media === null\\\" src=\\\"../../assets/img/live_stream_bg_2.jpg\\\"/>\\n                                        </div>\\n                                        <ion-card-content class=\\\"ion-no-padding\\\">\\n                                            <ion-card-title class=\\\"heading4\\\" [innerHtml]=\\\"item.title\\\"></ion-card-title>\\n                                            <p> {{item.wpfc_preacher}}</p>\\n                                        </ion-card-content>\\n                                    </ion-card>\\n                                </ion-col>\\n                                <!-- <ion-col *ngIf=\\\"sermons.length === 0\\\">\\n                                    <div class=\\\"ion-margin-bottom\\\">\\n                                        <ion-card class=\\\"ionCard ion-text-center ion-margin-bottom ionCard--mobile\\\"\\n                                                  style=\\\"border-radius: 5px;\\\">\\n                                            <h4 class=\\\"heading4\\\">{{'SERMONS.no_sermon_available' | translate}}</h4>\\n                                        </ion-card>\\n                                    </div>\\n                                </ion-col> -->\\n                            </ion-row>\\n                        </ion-grid>\\n                    </div>\\n        </div>\\n    </div>\\n    <div class=\\\"ion-justify-content-start\\\">\\n        <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n        <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"\\\">\\n        </ion-infinite-scroll-content>\\n        </ion-infinite-scroll>\\n    </div>\\n</ion-content>\\n\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AllSermonsPage } from './all-sermons.page';\nimport {TranslateModule} from \"@ngx-translate/core\";\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AllSermonsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    TranslateModule\n  ],\n  declarations: [AllSermonsPage]\n})\nexport class AllSermonsPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FsbC1zZXJtb25zL2FsbC1zZXJtb25zLnBhZ2Uuc2NzcyJ9 */\"","import {Component, OnInit} from '@angular/core';\nimport {Storage} from '@ionic/storage';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {LoaderService} from '../../services/loader.service';\nimport {SermonService} from '../../services/sermon.service';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport {Location, formatDate} from '@angular/common';\nimport { ApiService } from 'src/services/api.service';\nimport { EventProviderService } from 'src/services/event-provider.service';\nimport { Platform } from '@ionic/angular';\n\n@Component({\n    selector: 'app-all-sermons',\n    templateUrl: './all-sermons.page.html',\n    styleUrls: ['./all-sermons.page.scss'],\n})\nexport class AllSermonsPage implements OnInit {\n\n    page_name: any;\n    allSermons: any;\n    sermonid: any;\n    seriesSermon: any;\n    sermons_url: any;\n    banner_image: any;\n    banner_desc: any;\n    banner_title: any;\n    ch_id: any;\n    sermons: any[] = [];\n    is_wordpress_enable: boolean;\n    page_id: any;\n    page:any = 1;\n    deviceType: string = '';\n\n    constructor(\n        private route: ActivatedRoute,\n        private router: Router,\n        private loader: LoaderService,\n        private storage: Storage,\n        private sermonsService: SermonService,\n        private dom: DomSanitizer,\n        private location: Location,\n        private event_provider: EventProviderService,\n        private apiService: ApiService,\n        private platform: Platform,\n    ) {}\n\n    ngOnInit() {\n        // getting sermon_id from url\n        this.sermonid = this.route.snapshot.paramMap.get('id');\n        this.ch_id = this.route.snapshot.paramMap.get('ch_id');\n        this.event_provider.getChurchData.subscribe(async (obj: any) => {\n            this.is_wordpress_enable = false;\n            if((Object.keys(obj).length === 0)){\n                return;\n            }\n            // Getting app_pages data from local storage\n        // Getting app_pages data from local storage\n        this.storage.get('app_pages').then(res => {\n\n            // filtering out Sermons page data\n            let sermon_page = res.find(x => x.page_type === 'page' && x.name === 'Shows');\n\n            if (sermon_page) {\n                //saving url, banner image, desc, title and page name\n                this.sermons_url = sermon_page.url;\n                this.banner_image = sermon_page.website_banner;\n                this.banner_desc = sermon_page.banner_description;\n                this.banner_title = sermon_page.banner_title;\n                this.page_name = sermon_page.title;\n                this.ch_id = sermon_page.church_id;\n                this.page_id = sermon_page.id;\n\n                if(obj.is_wordpress_enable === '1'){\n                    this.is_wordpress_enable = true;\n                    this.apiService.getSermons(this.ch_id, this.sermonid, this.page).subscribe(\n                        (res: any) => {\n                            console.log(res);\n                            this.sermons = res.sermons;\n                            this.sermons.forEach(eachSermon => {\n                                if(eachSermon.featured_media !== \"\" && eachSermon.featured_media !== null && eachSermon.featured_media.includes(\"s3.wasabisys.com\") && formatDate(eachSermon.created_at,'yyyy-MM-dd','en_US') >= '2023-05-29'   ){\n\n                                    let abc = eachSermon.featured_media.split(\"/\");\n                                    let folder_name = abc[abc.length-2];\n                                    if(this.platform.is(\"mobile\")){\n                                        this.deviceType = 'radiobase_mobile';\n                                    }else if(this.platform.is(\"tablet\")){\n                                        this.deviceType = 'radiobase_tablet';\n                                    }else{\n                                        this.deviceType = folder_name;\n                                    }\n                                    let new_link =  eachSermon.featured_media.replace(folder_name, this.deviceType);\n                                   // let new_link = 'https://s3.wasabisys.com/churchbase.site/' + this.deviceType +'/' + img_name;\n                                   eachSermon['featured_media'] = new_link; \n                                  \n                                }\n                            });\n                            this.loader.stopLoading();\n                        },\n                        (err: any) => {\n                            console.log(err);\n                        }\n                    );\n                } else {\n                    // fetching sermon data from given url\n                    this.getSermonsFromWordpress(this.sermons_url);\n                }\n            }\n        });\n        });\n        this.loader.stopLoading();\n    }\n\n    getSermonsFromWordpress(base_url) {\n        let self = this;\n        this.loader.presentLoading().then(() => {\n            // fetching sermon data through service\n            this.sermonsService.getAllSermons(base_url).subscribe(async (res: any) => {\n                let data = res.data;\n                self.allSermons = data.item;\n                if(this.ch_id == '1125'){\n                    self.allSermons = self.allSermons.reverse();\n                }\n\n                // filtering out sermon with the sermon id from url\n                let all = self.allSermons.filter(x => x.id_series === this.sermonid);\n                for(let x=0; x<all.length; x++){\n                    if(all[x]['itunes:image']){\n                        all[x].img = all[x]['itunes:image']['$']['href'];\n                    } else {\n                        all[x].img = all[x].img_series;\n                    }\n                }\n                self.seriesSermon = all;\n\n                this.loader.stopLoading();\n            });\n        });\n    }\n\n    gettingSermon(){\n        let self = this;\n\n        // filtering out sermon with the sermon id from url\n        let all = self.allSermons.filter(x => x.id_series === this.sermonid);\n        for(let x=0; x<all.length; x++){\n            if(all[x]['itunes:image']){\n                all[x].img = all[x]['itunes:image']['$']['href'];\n            } else {\n                all[x].img = all[x].img_series;\n            }\n        }\n        self.seriesSermon = all;\n    }\n\n    getsermon(id_series, item, date) {\n        this.loader.presentLoading().then(() => {\n            // navigating to detail page\n            this.router.navigate(['/show-detail', { id: item, idseries: id_series, date: date }]);\n            this.loader.stopLoading();\n        });\n    }\n\n    getsermonpwa(id_series) {\n        this.loader.presentLoading().then(() => {\n            // navigating to detail page\n            this.router.navigate(['/show-detail', { id: id_series, page_id: this.page_id }]);\n            this.loader.stopLoading();\n        });\n    }\n\n    gotobackPage() {\n        this.location.back();\n    }\n\n    loadData(event) {\n        this.page = this.page + 1;\n            this.apiService.getSermons(this.ch_id, this.sermonid, this.page).subscribe(\n                (res: any) => {\n                    console.log(res);\n                    if(res.sermons.length > 0){\n                        res.sermons.forEach(item => {\n                            if(item.featured_media !== \"\" && item.featured_media !== null && item.featured_media.includes(\"s3.wasabisys.com\") && formatDate(item.created_at,'yyyy-MM-dd','en_US') >= '2023-05-29'   ){\n\n                                let abc = item.featured_media.split(\"/\");\n                                let folder_name = abc[abc.length-2];\n                                if(this.platform.is(\"mobile\")){\n                                    this.deviceType = 'radiobase_mobile';\n                                }else if(this.platform.is(\"tablet\")){\n                                    this.deviceType = 'radiobase_tablet';\n                                }else{\n                                    this.deviceType = folder_name;\n                                }\n                                let new_link =  item.featured_media.replace(folder_name, this.deviceType);\n                               // let new_link = 'https://s3.wasabisys.com/churchbase.site/' + this.deviceType +'/' + img_name;\n                               item['featured_media'] = new_link; \n                              \n                            }\n\n\n                            this.sermons.push(item);\n                        });\n                        event.target.complete();\n                    }else{\n                        event.target.disabled = true;\n                    }\n                   \n                },\n                (err: any) => {\n                    console.log(err);\n                })\n            \n    }\n\n}\n"],"sourceRoot":""}